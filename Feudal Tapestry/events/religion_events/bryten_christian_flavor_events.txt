namespace = bryten_christian

##############################################
# Make vow to the Virigin Mary
##############################################
bryten_christian.001 = {# Make a vow to the Virign Mary
	type = character_event
	title = bryten_christian.001.t
	desc = bryten_christian.001.desc
	theme = faith
	override_background = { reference = temple_church }
	
	
	option = {# Go and make a vow
		name = bryten_christian.001.a
		hidden_effect = {
			trigger_event = {
				id = bryten_christian.002
				days = { 1 5 }
			}
		}	
	}
	option = {# Don't make a vow
		name = bryten_christian.001.b
		hidden_effect = {
			remove_character_flag = flag_bryten_took_mary_vow
		}
	}	

}
bryten_christian.002 = {# What sort of Vow do you make?
	type = character_event
	title = bryten_christian.002.t
	desc = bryten_christian.002.desc
	theme = faith
	override_background = { reference = temple_church }
	
	option = {# Vow to be Chaste and Virtuous
		name = bryten_christian.002.a
		hidden_effect = {
			add_character_flag = bryten_vow_chaste_flag
		}	
	}
	option = {# Vow to be Humble
		name = bryten_christian.002.b
		hidden_effect = {
			add_character_flag = bryten_vow_humble_flag
		}		
	}
	option = {# vow to be charitable
		name = bryten_christian.002.c
		hidden_effect = {
			add_character_flag = bryten_vow_charitable_flag
		}		
	}	
	option = {# Vow to be temperate
		name = bryten_christian.002.d
		hidden_effect = {
			add_character_flag = bryten_vow_temperate_flag
		}	
	}
}
bryten_christian.003 = {# Keeping vow after baby is born
	type = character_event
	title = bryten_christian.003.t
	desc = bryten_christian.003.desc
	theme = faith
	override_background = { reference = temple_church }
	
	option = {# Keep vow
		name = bryten_christian.003.a
		add_piety = minor_piety_gain
		if = {# Chaste Vow
			limit = { has_character_flag = bryten_vow_chaste_flag }
			add_character_modifier = {
				modifier = bryten_vow_chaste_modifier
				months = 2
			}
			stress_impact = {
				lustful = medium_stress_gain
				chaste = minor_stress_loss
				temperate = miniscule_stress_loss
				zealous = miniscule_stress_loss
				rakish = minor_stress_gain
			}
		}
		if = {# Humble Vow
			limit = { has_character_flag = bryten_vow_humble_flag }
			add_character_modifier = {
				modifier = bryten_vow_humble_modifier
				months = 2
			}
			stress_impact = {
				arrogant = medium_stress_gain
				humble = minor_stress_loss
				temperate = miniscule_stress_loss
				zealous = miniscule_stress_loss
			}
		}
		if = {# Charitable Vow
			limit = { has_character_flag = bryten_vow_charitable_flag }
			add_character_modifier = {
				modifier = bryten_vow_charitable_modifier
				months = 2
			}
			stress_impact = {
				greedy = minor_stress_gain
				generous = minor_stress_loss
				improvident = miniscule_stress_loss
				profligate = miniscule_stress_gain	
				zealous = miniscule_stress_loss			
			}
		}
		if = {# Temperate Vow
			limit = { has_character_flag = bryten_vow_temperate_flag }
			add_character_modifier = {
				modifier = bryten_vow_temperate_modifier
				months = 2
			}
			stress_impact = {
				gluttonous = minor_stress_gain
				temperate = minor_stress_loss
				drunkard = miniscule_stress_gain
				hashishiyah = miniscule_stress_gain	
				rakish = miniscule_stress_gain	
				zealous = miniscule_stress_loss
			}
		}
	}
	option = {# Don't Keep vow
		name = bryten_christian.003.b	
		add_piety = medium_piety_loss
		stress_impact = {
			honest = minor_stress_gain
			zealous = minor_stress_gain
			holy_warrior = minor_stress_gain
			faith_warrior = minor_stress_gain
			base = miniscule_stress_gain
		}
		hidden_effect = {
			if = {# always get this if your child is naturally born sickly
				limit = { has_character_flag = birth_child_will_become_sickly }
				add_character_flag = bryten_broke_virgin_vow_punishment_flag
			}			
			else_if = {# random chance for child to catch illness
				limit = { NOT = { has_character_flag = birth_child_will_become_sickly } }
				random_list = {
					70 = { }
					30 = { add_character_flag = bryten_broke_virgin_vow_punishment_flag }
				}
			}

		}
	}
	
	after = {
		if = {
			limit = { has_character_flag = bryten_broke_virgin_vow_punishment_flag }
			trigger_event = {
				id = bryten_christian.004
				days = { 10 30 }
			}
		}
		remove_character_flag = bryten_vow_chaste_flag
		remove_character_flag = bryten_vow_humble_flag
		remove_character_flag = bryten_vow_charitable_flag
		remove_character_flag = bryten_vow_temperate_flag
		remove_character_flag = flag_bryten_took_mary_vow
	}

}
bryten_christian.004 = {# Breaking the Vow and bad stuff happens
	type = character_event
	title = bryten_christian.004.t
	desc = bryten_christian.004.desc
	theme = faith
	override_background = { reference = temple_church }
	
	immediate = {
		scope:child = {
			add_trait = sickly
		}
	}
	
	option = {# Virgin Mary please save me
		name = bryten_christian.004.a	
	}
	
	after = {# Maintance
		remove_character_flag = bryten_broke_virgin_vow_punishment_flag
	}

}
##############################################
# Laying in and Churching
##############################################
bryten_christian.005 = {# Laying In
	type = character_event
	title = bryten_christian.005.t
	desc = bryten_christian.005.desc
	theme = faith
	override_background = { reference = bedchamber }
	
	option = {# Begin Laying in.
		name = bryten_christian.005.a
		add_trait = bryten_laying_in
		hidden_effect = {
			trigger_event = {
				id = bryten_christian.006
				days = 40
			}
		}
	}
	
}
bryten_christian.006 = {# The Churching begins
	type = character_event
	title = bryten_christian.006.t
	desc = bryten_christian.006.desc
	theme = faith
	override_background = { reference = temple_church }
		
	immediate = {
		remove_trait = bryten_laying_in
	}
	
	option = {# The Laying in is over, the Churching begins
		name = bryten_christian.006.a	
	}

	after = {
		trigger_event = {
			id = bryten_christian.007
			days = { 1 2 }
		}
	}
}
bryten_christian.007 = {# The Blessing at the Church
	type = character_event
	title = bryten_christian.007.t
	desc = bryten_christian.007.desc
	theme = faith
	override_background = { reference = temple_church }
	
	
	immediate = {
		primary_partner = { save_scope_as = husband }
	}
	
	option = {# Thank God
		name = bryten_christian.007.a	
		add_piety = minor_piety_gain
	}
	
	after = {
		scope:husband = {
			trigger_event = {
				id = bryten_christian.008
				days = { 1 2 }
			}
		}
	}

}
bryten_christian.008 = {# Husband hears about the Churching
	type = character_event
	title = bryten_christian.008.t
	desc = bryten_christian.008.desc
	theme = faith
	override_background = { reference = temple_church }
	
	option = {# Thank God
		name = bryten_christian.008.a	
	}
	

}
##############################################
# Monastic Flavor
##############################################
bryten_christian.010 = {# Monks make fantastic beer
	type = character_event
	title = bryten_christian.010.t
	desc = bryten_christian.010.desc
	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:monk
		animation = happiness
	}

	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism

	}
	immediate = {
		if = {# first check if we do have a monk direct vassal
			random_vassal = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# second check if we do have a monk vassal(any is acceptable
			random_vassal_or_below = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# third check if we do have a monk courtier
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# if we don't have one then we create one. 
			create_character = {
				location = root.capital_province
				age = { 25 35 }
				gender = male
				trait = education_learning_3
				trait = devoted
				faith = root.faith
				culture = root.culture
				learning = { 10 12 }
				save_scope_as = monk
			}
			scope:monk = {	add_character_flag = monk_vanishing	}
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {# More common in Northern Europe
			add = 0.2
			capital_province = { geographical_region = bryten_custom_northern_europe }
		}
		modifier = {# Less common in southern Europe
			add = -0.2
			OR = {
				capital_province = { geographical_region = material_woods_mediterranean }
				capital_province = { geographical_region = world_europe_west_francia }
			}
		}
	}


	option = {# Visit the Monastary
		name = bryten_christian.010.a
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = friendliness_opinion
					opinion = 25
				}			
			}
		}
		if = {
			limit = { NOT = { has_trait = drunkard } }
			random = {
				chance = 10
				add_trait = drunkard
				send_interface_toast = {
					type = event_toast_effect_bad
					title =  bryten_christian.010.a.drunkard 
					left_icon = root
				}
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			# traits that lose stress
			lifestyle_reveler = minor_stress_impact_loss
			drunkard = minor_stress_impact_loss
			gregarious = minor_stress_impact_loss
			humble = minor_stress_impact_loss
			# traits that gain Stress
			temperate = minor_stress_impact_gain
			shy = miniscule_stress_impact_gain
			reclusive = minor_stress_impact_gain
		}
	}
	option = {# Thanks but No Thanks
		name = bryten_christian.010.b
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = disappointed_opinion
					opinion = -25

				}			
			}
		}
		if = {
			limit = { NOT = { has_trait = temperate } }
			random = {
				chance = 20
				add_trait = temperate
				send_interface_toast = {
					type = event_toast_effect_good
					title =  bryten_christian.010.b.temperate
					left_icon = root
				}
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			# traits that gain Stress
			lifestyle_reveler = minor_stress_impact_gain
			drunkard = minor_stress_impact_gain
			gregarious = miniscule_stress_impact_gain
			# traits that lose stress
			temperate = minor_stress_impact_loss
			shy = minor_stress_impact_loss
			reclusive = minor_stress_impact_loss
		}
	}

	after = {
		hidden_effect = {
			scope:monk = {
				if = {
					limit = {has_character_flag = monk_vanishing }
					death = { death_reason = death_vanished	}
				}
			}
		}
	}

}
bryten_christian.011 = {# Monks have healing herbs 
	type = character_event
	title = bryten_christian.011.t
	desc = bryten_christian.011.desc
	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:monk
		animation = happiness
	}

	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		piety_level >= 1
		OR = {
			has_trait = ill
		}
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism
	}
	immediate = {
		if = {# first check if we do have a monk direct vassal
			random_vassal = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# second check if we do have a monk vassal(any is acceptable
			random_vassal_or_below = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# third check if we do have a monk courtier
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# if we don't have one then we create one. 
			create_character = {
				location = root.capital_province
				age = { 25 35 }
				gender = male
				trait = education_learning_3
				trait = devoted
				faith = root.faith
				culture = root.culture
				learning = { 10 12 }
				save_scope_as = monk
			}
			scope:monk = {	add_character_flag = monk_vanishing	}
		}
	}
	
	option = {# Thank them
		name = bryten_christian.011.a
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = friendliness_opinion
					opinion = 25
				}			
			}
		}
		ai_chance = {
			base = 80
		}
		random = {
			chance = 30
			remove_trait = ill
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			# traits that gain Stress
			paranoid = minor_stress_impact_gain
			# traits that lose stress
			lifestyle_physician = miniscule_stress_impact_loss
			lifestyle_herbalist = miniscule_stress_impact_loss
			lifestyle_gardener = miniscule_stress_impact_loss
		}
	}
	option = {# These herbs smell funny
		name = bryten_christian.011.b
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = disappointed_opinion
					opinion = -25
				}			
			}
		}
		if = {
			limit = { NOT = { has_trait = paranoid } }
			add_trait = paranoid
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			# traits that gain Stress
			lifestyle_physician = miniscule_stress_impact_gain
			lifestyle_herbalist = miniscule_stress_impact_gain
			lifestyle_gardener = miniscule_stress_impact_gain
			# traits that lose stress
			paranoid = minor_stress_loss
		}
	}

	after = {
		hidden_effect = {
			scope:monk = {
				if = {
					limit = {has_character_flag = monk_vanishing }
					death = { death_reason = death_vanished	}
				}
			}
		}
	}

}
bryten_christian.012 = {# Monks make great wine  
	type = character_event
	title = bryten_christian.012.t
	desc = bryten_christian.012.desc

	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:monk
		animation = happiness
	}

	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism

	}
	immediate = {
		if = {# first check if we do have a monk direct vassal
			random_vassal = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# second check if we do have a monk vassal(any is acceptable
			random_vassal_or_below = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# third check if we do have a monk courtier
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# if we don't have one then we create one. 
			create_character = {
				location = root.capital_province
				age = { 25 35 }
				gender = male
				trait = education_learning_3
				trait = devoted
				faith = root.faith
				culture = root.culture
				learning = { 10 12 }
				save_scope_as = monk
			}
			scope:monk = {	add_character_flag = monk_vanishing	}
		}
	}
	weight_multiplier = {
		base = 1
		modifier = {# More common in Northern Europe
			add = -0.2
			capital_province = { geographical_region = bryten_custom_northern_europe }
		}
		modifier = {# Less common in southern Europe
			add = 0.2
			OR = {
				capital_province = { geographical_region = material_woods_mediterranean }
				capital_province = { geographical_region = world_europe_west_francia }
			}
		}
	}
	
	option = {# Visit the Monastary
		name = bryten_christian.012.a
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = friendliness_opinion
					opinion = 25
				}			
			}
		}
		ai_chance = {
			base = 50
		}
		random = {
			chance = 50
			add_learning_skill = 1
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			# traits that lose stress
			lifestyle_reveler = minor_stress_impact_loss
			drunkard = minor_stress_impact_loss
			gregarious = minor_stress_impact_loss
			# traits that gain Stress
			temperate = minor_stress_impact_gain
			shy = miniscule_stress_impact_gain
			reclusive = minor_stress_impact_gain
		}
	}
	option = {# Thanks but no Thanks
		name = bryten_christian.012.b
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = disappointed_opinion
					opinion = -25
				}			
			}
		}

		ai_chance = {
			base = 50
		}
		if = {
			limit = { NOT = { has_trait = temperate } }
			random = {
				chance = 20
				add_trait = temperate
				send_interface_toast = {
					type = event_toast_effect_good
					title = bryten_christian.012.b.temperate
					left_icon = root
				}
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			# traits that gain Stress
			lifestyle_reveler = minor_stress_impact_gain
			drunkard = minor_stress_impact_gain
			gregarious = miniscule_stress_impact_gain
			# traits that lose stress
			temperate = minor_stress_impact_loss
			shy = minor_stress_impact_loss
			reclusive = minor_stress_impact_loss
		}

	}

	after = {
		hidden_effect = {
			scope:monk = {
				if = {
					limit = {has_character_flag = monk_vanishing }
					death = { death_reason = death_vanished	}
				}
			}
		}
	}

}
bryten_christian.013 = {# Monk is fantastic painter 
	type = character_event
	title = bryten_christian.013.t
	desc = bryten_christian.013.desc
	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:monk
		animation = happiness
	}
	
	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism
		NOT = { has_trait = blind }
	}

	immediate = {
		if = {# first check if we do have a monk direct vassal
			random_vassal = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# second check if we do have a monk vassal(any is acceptable
			random_vassal_or_below = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# third check if we do have a monk courtier
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# if we don't have one then we create one. 
			create_character = {
				location = root.capital_province
				age = { 25 35 }
				gender = male
				trait = education_learning_3
				trait = devoted
				faith = root.faith
				culture = root.culture
				learning = { 10 12 }
				save_scope_as = monk
			}
			scope:monk = {	add_character_flag = monk_vanishing	}
		}
	}
	
	option = {# Buy the Painting
		name = bryten_christian.013.a
		remove_short_term_gold = 10
		stress_impact = {
			# traits that gain Stress
			greedy = miniscule_stress_impact_gain
			# traits that lose stress
			profligate = miniscule_stress_loss
			improvident = miniscule_stress_loss
			generous = miniscule_stress_loss		
		}
	}
	option = {# don't buy
		name = bryten_christian.013.b
		stress_impact = {
			# traits that gain Stress
			generous = miniscule_stress_impact_gain
			improvident = miniscule_stress_impact_gain
			profligate = miniscule_stress_impact_gain
			# traits that lose stress
			greedy = miniscule_stress_loss
		}
	}

	after = {
		hidden_effect = {
			scope:monk = {
				if = {
					limit = {has_character_flag = monk_vanishing }
					death = { death_reason = death_vanished	}
				}
			}
		}
	}

}
bryten_christian.014 = {# Monks produce beautiful books 
	type = character_event
	title = bryten_christian.014.t
	desc = bryten_christian.014.desc
	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:monk
		animation = happiness
	}

	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism
		NOT = { has_trait = blind }
	}

	immediate = {
		if = {# first check if we do have a monk direct vassal
			random_vassal = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# second check if we do have a monk vassal(any is acceptable
			random_vassal_or_below = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# third check if we do have a monk courtier
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# if we don't have one then we create one. 
			create_character = {
				location = root.capital_province
				age = { 25 35 }
				gender = male
				trait = education_learning_3
				trait = devoted
				faith = root.faith
				culture = root.culture
				learning = { 10 12 }
				save_scope_as = monk
			}
			scope:monk = {	add_character_flag = monk_vanishing	}
		}
	}
	
	option = {# I will buy the Book
		name = bryten_christian.014.a
		remove_short_term_gold = 30
		random = {
			chance = 20
			add_learning_skill = 1
		}

		stress_impact = {
			# traits that gain Stress
			greedy = miniscule_stress_impact_gain
			dull = miniscule_stress_impact_gain
			# traits that lose stress
			profligate = miniscule_stress_loss
			improvident = miniscule_stress_loss
			generous = miniscule_stress_loss
			shrewd = miniscule_stress_loss
	
		}
	}
	option = {# Books aren't for me
		name = bryten_christian.014.b
		stress_impact = {
			# traits that gain Stress
			generous = miniscule_stress_impact_gain
			improvident = miniscule_stress_impact_gain
			profligate = miniscule_stress_impact_gain
			shrewd = miniscule_stress_impact_gain
			# traits that lose stress
			greedy = miniscule_stress_loss
			dull = miniscule_stress_loss
		}

	}

	after = {
		hidden_effect = {
			scope:monk = {
				if = {
					limit = {has_character_flag = monk_vanishing }
					death = { death_reason = death_vanished	}
				}
			}
		}
	}

}
bryten_christian.015 = {# Local monks come to visit often 
	type = character_event
	title = bryten_christian.015.t
	desc = bryten_christian.015.desc

	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:monk
		animation = happiness
	}
	
	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism
	}
	immediate = {
		if = {# first check if we do have a monk direct vassal
			random_vassal = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# second check if we do have a monk vassal(any is acceptable
			random_vassal_or_below = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# third check if we do have a monk courtier
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# if we don't have one then we create one. 
			create_character = {
				location = root.capital_province
				age = { 25 35 }
				gender = male
				trait = education_learning_3
				trait = devoted
				faith = root.faith
				culture = root.culture
				learning = { 10 12 }
				save_scope_as = monk
			}
			scope:monk = {	add_character_flag = monk_vanishing	}
		}
	}
	
	option = {# Wonderful come again
		name = bryten_christian.015.a
		if = {# the monk it that you spent time with them.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = friendliness_opinion
					opinion = 25
				}			
			}
		}
		add_piety = 20
		random = {
			chance = 30
			add_learning_skill = 1
		}
		stress_impact = {
			# traits that gain Stress
			reclusive = miniscule_stress_impact_gain
			shy = miniscule_stress_impact_gain
			# traits that lose stress
			gregarious = miniscule_stress_loss
			diplomat = miniscule_stress_loss
		}
	}
	option = {# the Monks are tedious
		name = bryten_christian.015.b
		if = {# disappointed that you don't want to spend time with them.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing	}} }
			scope:monk = {
				add_opinion = {
					target = root
					modifier = disappointed_opinion
					opinion = -25
				}			
			}
		}
		random_list = {
			5 = {
				if = {
					limit = { NOT = { has_trait = cynical } }
					add_trait = cynical
				}
			}
			95 = {

			}
		}
		stress_impact = {
			# traits that gain Stress
			gregarious = miniscule_stress_impact_gain
			diplomat = miniscule_stress_impact_gain
			# traits that lose stress
			reclusive = miniscule_stress_loss
			shy = miniscule_stress_loss
		}
	}

	after = {
		hidden_effect = {
			scope:monk = {
				if = {
					limit = {has_character_flag = monk_vanishing }
					death = { death_reason = death_vanished	}
				}
			}
		}
	}

}
bryten_christian.016 = {# Donate to local monastery
	type = character_event
	title = bryten_christian.016.t
	desc = bryten_christian.016.desc

	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:monk
		animation = happiness
	}
	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism
	}

	immediate = {
		if = {# first check if we do have a monk direct vassal
			random_vassal = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# second check if we do have a monk vassal(any is acceptable
			random_vassal_or_below = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# third check if we do have a monk courtier
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					religion = religion:christianity_religion
					has_trait = devoted # got to be a monk
				}
				save_scope_as = monk
			}
		}
		else_if = {# if we don't have one then we create one. 
			create_character = {
				location = root.capital_province
				age = { 25 35 }
				gender = male
				trait = education_learning_3
				trait = devoted
				faith = root.faith
				culture = root.culture
				learning = { 10 12 }
				save_scope_as = monk
			}
			scope:monk = {	add_character_flag = monk_vanishing	}
		}
	}
	
	option = { # Ok
		name = bryten_christian.016.a
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = pious_opinion
					opinion = 25
				}			
			}
		}
		stress_impact = {
			# traits that gain Stress
			greedy = miniscule_stress_impact_gain
			# traits that lose stress
			improvident = miniscule_stress_loss
			generous = miniscule_stress_loss
		}
	}
	option = { # Ok
		name = bryten_christian.016.b
		if = {# the monk likes sharring beer with you.
			limit = { NOT = { scope:monk = { has_character_flag = monk_vanishing }} }

			scope:monk = {
				add_opinion = {
					target = root
					modifier = impious_opinion
					opinion = -25
				}			
			}
		}
		stress_impact = {
			# traits that gain Stress
			improvident = miniscule_stress_impact_gain
			generous = miniscule_stress_impact_gain
			# traits that lose stress
			greedy = miniscule_stress_loss
		}
	}

	after = {
		hidden_effect = {
			scope:monk = {
				if = {
					limit = {has_character_flag = monk_vanishing }
					death = { death_reason = death_vanished	}
				}
			}
		}
	}

}
bryten_christian.017 = {# Child wants to be a monk/nun
	type = character_event
	title = bryten_christian.017.t
	desc = bryten_christian.017.desc

	theme = friendly
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:child_for_the_church
	}
	trigger = {
		is_commanding_army = no
		is_adult = yes
		is_imprisoned = no
		has_religion = religion:christianity_religion
		faith = { has_doctrine_parameter = take_vows_active } # Just to catch christian faiths that don't do monasticism
		any_child = {
			is_ruler = no
			age >= 13
			NOT = { age >= 16 }
			NOT = { has_trait = cynical }
			NOT = { is_clergy = yes }
		}
	}
	immediate = {
		save_scope_as = parent_of_child
		random_child = {
			limit = {
				is_ruler = no
				age >= 13
				NOT = { age >= 16 }
				NOT = { has_trait = cynical }
				NOT = { is_clergy = yes }
			}
			save_scope_as = child_for_the_church
		}
	}
	
	option = { # Ok
		name = bryten_christian.017.a
		scope:child_for_the_church = {
			send_child_to_clergy_effect_for_events = yes

			if = {
				limit = {
					scope:parent_of_child.top_liege = {
						any_vassal_or_below = {
							has_government = theocracy_government
							primary_title.tier > tier_barony
							faith = scope:parent_of_child.faith
						}
					}
				}
				scope:parent_of_child.top_liege = {
					random_vassal_or_below = {
						limit = {
							has_government = theocracy_government
							primary_title.tier > tier_barony
							faith = scope:parent_of_child.faith
						}
						save_scope_as = theocratic_travel_target
					}
				}
				visit_court_of = scope:theocratic_travel_target
				set_relation_guardian = scope:theocratic_travel_target 
			}
			else_if = {
				limit = {
					exists = scope:parent_of_child.capital_province
				}
				move_to_pool_at = scope:parent_of_child.capital_province
			}

			add_opinion = {
				target = ROOT
				opinion = 50
				modifier = grateful_opinion
			}
		}

	}
	option = { # Ok
		name = bryten_christian.017.b
		scope:child_for_the_church = {
			add_stress = major_stress_loss
			add_opinion = {
				target = ROOT
				opinion = -150
				modifier = angry_opinion
			}
		}
	}
}
##############################################
# Bosnian Church orientation
##############################################
bryten_christian.020 = {# Bosnian Church orientation decision event
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_catholic
				}
				desc = bryten_christian.020.t.catholic
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_orthodox
				}
				desc = bryten_christian.020.t.orthodox
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_gnostic
				}
				desc = bryten_christian.020.t.gnostic
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_none
				}
				desc = bryten_christian.020.t.none
			}
			desc = bryten_christian.020.t.backup
		}
	}
	desc = {
		desc = bryten_christian.020.desc
		first_valid = {
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_catholic
				}
				desc = bryten_christian.020.desc.catholic
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_orthodox
				}
				desc = bryten_christian.020.desc.orthodox
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_gnostic
				}
				desc = bryten_christian.020.desc.gnostic
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_none
				}
				desc = bryten_christian.020.desc.none
			}
		}
	}
	theme = faith

	right_portrait = {
		character = scope:sardinia_leader
		animation = war_over_win
	}

	immediate = {
		play_music_cue = "mx_cue_epic_sacral_moment"
		if = {# Catholic
			limit = {
				has_global_variable = bryten_bosnian_church_orientation_catholic
			}
			bryten_bosnian_church_orientation_catholic_effects = yes
		}			
		else_if = {# Orthodox
			limit = {
				has_global_variable = bryten_bosnian_church_orientation_orthodox
			}
			bryten_bosnian_church_orientation_orthodox_effects = yes

		}			
		else_if = {# Orthodox
			limit = {
				has_global_variable = bryten_bosnian_church_orientation_gnostic
			}
			bryten_bosnian_church_orientation_gnostic_effects = yes

		}			
		else_if = {# None
			limit = {
				has_global_variable = bryten_bosnian_church_orientation_none
			}
			bryten_bosnian_church_orientation_none_effects = yes

		}			
	}
	
	option = {# Good
		name = bryten_christian.020.a
	}
	
	after = {
		hidden_effect = {
			every_player = {
				limit = { religion = religion:christianity_religion }
				trigger_event = { id = bryten_christian.021 }
			}
		}
	}
}
bryten_christian.021 = {# Bosnian orientation decision event
	type = character_event
	title = bryten_christian.021.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_catholic
				}
				desc = bryten_christian.021.desc.catholic
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_orthodox
				}
				desc = bryten_christian.021.desc.orthodox
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_gnostic
				}
				desc = bryten_christian.021.desc.gnostic
			}
			triggered_desc = {
				trigger = {
					has_global_variable = bryten_bosnian_church_orientation_none
				}
				desc = bryten_christian.021.desc.none
			}
		}
	}
	theme = faith

	right_portrait = {
		character = scope:sardinia_leader
		animation = thinking
	}

	# Latin
	option = {
		name = bryten_christian.021.a
	}




}
##############################################
# Confirmation
##############################################
bryten_christian.025 = {# Celebrate Confirmation 
	type = character_event
	title = bryten_christian.025.t
	desc = bryten_christian.025.desc
	theme = faith
	override_background = { reference = temple_church }
	
	trigger = {
		is_available_child = yes
		child_is_teen_trigger = yes
		has_religion = religion:christianity_religion
		not = { has_character_flag = bryten_child_had_confirmation }
	}

	immediate = {
		save_scope_as = bryten_confirmation_child
		scope:bryten_confirmation_child = {
			every_parent = {
				limit = { is_ai = no }
				save_scope_as = bryten_confirmation_child_parent
			}
		}
	}
	
	option = {# Go and make a vow
		name = bryten_christian.025.a	
		add_piety = miniscule_piety_gain
		add_prestige = miniscule_prestige_value
		hidden_effect = { 
			add_character_flag = bryten_child_had_confirmation
			create_character_memory = {
				type = bryten_first_confirmation_memory
			} 
		}
	}
	
	after = {
		scope:bryten_confirmation_child_parent = {
			trigger_event = {
				id = bryten_christian.026
				days = { 1 5 }
			}
		}

	}

}
bryten_christian.026 = {# Celebrate Confirmation - Parents view
	type = character_event
	title = bryten_christian.026.t
	desc = bryten_christian.026.desc
	theme = faith
	override_background = { reference = temple_church }
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:bryten_confirmation_child
		animation = happiness
	}
	option = {# 
		name = bryten_christian.026.a
	}

}
##############################################
# Saintly Miracles
##############################################

##############################################
# Relic Events
##############################################

##############################################
# Bosation
##############################################

##############################################
# Bosnon
##############################################









