namespace = bryten_heresy

#######################################
# Bogomilism 
#######################################
bryten_heresy.001 = {# Bogomil begins preaching
	hidden = yes

	immediate = {
		random_county_in_region = {
			region = custom_bogomilist_region
			save_scope_as = bogomilism_county
		}
		create_character = {# Bogomil
			name = "Bogomil"
			gender = male
			location = scope:bogomilism_county.title_province
			age = 32
			faith = faith:bogomilist
			culture = culture:bulgarian
			trait = heresiarch
			trait = theologian
			trait = education_learning_3
			save_scope_as = bogomil_founder
		}
		create_character = {# Jeremiah
			name = "Jeremiah"
			gender = male
			location = scope:bogomilism_county.title_province
			age = 18
			faith = faith:bogomilist
			culture = culture:bulgarian
			trait = heresiarch
			trait = theologian
			trait = education_learning_4
			save_scope_as = bogomil_jeremiah
		}		
		set_global_variable = {
			name = bogomilism_spawned
			value = yes
		}
		# Unlock Bogomilism to convert to and be a heresy more generally
		faith:bogomilist = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_bogomilist_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					NOT = { this = faith:bosnian_church }
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:bogomilist
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_bogomilist_region } }
			trigger_event = {
				id = bryten_heresy.002
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.002 = {# Bogomil preaches
	type = character_event
	title = bryten_heresy.002.t
	desc = bryten_heresy.002.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretic
		name = bryten_heresy.002.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.002.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to Bogomilism
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:bogomilist }
					}
					set_county_faith = faith:bogomilist
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.002.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:bogomilist = { change_fervor = { 
			value = 5
			desc = bryten_fervor_gain_heretical_lord 
		} }
		set_character_faith = faith:bogomilist
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
#######################################
# Catharism 
#######################################
bryten_heresy.025 = {# Cathar Preachers come about
	hidden = yes

	immediate = {
		set_global_variable = {
			name = catharism_spawned
			value = yes
		}
		# Unlock Bogomilism to convert to and be a heresy more generally
		faith:cathar = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_cathar_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					NOT = { this = faith:bosnian_church }
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:cathar
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_cathar_region } }
			trigger_event = {
				id = bryten_heresy.026
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.026 = {# Convert to Catharism?
	type = character_event
	title = bryten_heresy.026.t
	desc = bryten_heresy.026.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.026.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.026.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to Bogomilism
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:bogomilist }
					}
					set_county_faith = faith:cathar
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.026.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:bogomilist = { 
			change_fervor = { 
				value = 5
				desc = bryten_fervor_gain_heretical_lord	
			} 
		}
		set_character_faith = faith:cathar
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
#######################################
# Waldensian 
#######################################
bryten_heresy.050 = {# Waldo begins preaching
	hidden = yes

	immediate = {
		random_county_in_region = {
			region = custom_waldensian_region
			save_scope_as = Waldenism_county
		}
		create_character = {# Waldo
			name = "Peter"
			gender = male
			location = scope:Waldenism_county.title_province
			age = 30
			faith = faith:waldensian
			culture = culture:occitan
			trait = heresiarch
			trait = generous
			trait = theologian
			trait = improvident
			trait = education_learning_4
			save_scope_as = waldensian_founder
		}
		set_global_variable = {
			name = waldensian_spawned
			value = yes
		}
		# Unlock Bogomilism to convert to and be a heresy more generally
		faith:waldensian = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_waldensian_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:waldensian
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_waldensian_region } }
			trigger_event = {
				id = bryten_heresy.051
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.051 = {# Convert to Waldensian?
	type = character_event
	title = bryten_heresy.051.t
	desc = bryten_heresy.051.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.051.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.051.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to waldensian
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:waldensian }
						faith = {# this is to ensure its a reaction to catholicism not any other heretical movement
							has_doctrine = special_doctrine_ecumenical_christian
						}
					}
					set_county_faith = faith:waldensian
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.051.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:bogomilist = { 
			change_fervor = { 
				value = 5
				desc = bryten_fervor_gain_heretical_lord	
			} 
		}
		set_character_faith = faith:waldensian
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
#######################################
# lollard 
#######################################
bryten_heresy.075 = {# Waldo begins preaching
	hidden = yes

	immediate = {
		random_county_in_region = {
			region = custom_lollard_region
			save_scope_as = lollardy_county
		}
		create_character = {# Bogomil
			name = "John"
			gender = male
			location = scope:lollardy_county.title_province
			age = 30
			faith = faith:lollard
			culture = culture:english
			trait = heresiarch
			trait = generous
			trait = theologian
			trait = education_learning_4
			save_scope_as = lollard_founder
		}
		set_global_variable = {
			name = lollard_spawned
			value = yes
		}
		# Unlock Lollardy to convert to and be a heresy more generally
		faith:lollard = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_lollard_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:lollard
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_lollard_region } }
			trigger_event = {
				id = bryten_heresy.076
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.076 = {# Convert to lollard?
	type = character_event
	title = bryten_heresy.076.t
	desc = bryten_heresy.076.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.076.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.076.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to lollard
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:lollard }
						faith = {# this is to ensure its a reaction to catholicism not any other heretical movement
							has_doctrine = special_doctrine_ecumenical_christian
						}
					}
					set_county_faith = faith:lollard
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.076.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:bogomilist = { 
			change_fervor = { 
				value = 5	
				desc = bryten_fervor_gain_heretical_lord
			} 
		}
		set_character_faith = faith:lollard
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
#######################################
# arnoldism 
#######################################
bryten_heresy.100 = {# Arnold begins preaching
	hidden = yes

	immediate = {
		random_county_in_region = {
			region = custom_arnoldism_region
			save_scope_as = arnoldism_county
		}
		create_character = {# Arnold
			name = "Arnold"
			gender = male
			location = scope:arnoldism_county.title_province
			age = 30
			faith = faith:arnoldism
			culture = culture:occitan
			trait = heresiarch
			trait = generous
			trait = theologian
			trait = improvident
			trait = education_learning_4
			save_scope_as = arnoldism_founder
		}
		set_global_variable = {
			name = arnoldism_spawned
			value = yes
		}
		# Unlock Bogomilism to convert to and be a heresy more generally
		faith:arnoldism = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_arnoldism_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:arnoldism
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_arnoldism_region } }
			trigger_event = {
				id = bryten_heresy.101
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.101 = {# Convert to arnoldism?
	type = character_event
	title = bryten_heresy.101.t
	desc = bryten_heresy.101.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.101.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.101.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to arnoldism
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:arnoldism }
						faith = {# this is to ensure its a reaction to catholicism not any other heretical movement
							has_doctrine = special_doctrine_ecumenical_christian
						}
					}
					set_county_faith = faith:arnoldism
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.101.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:bogomilist = { 
			change_fervor = { 
				value = 5	
				desc = bryten_fervor_gain_heretical_lord

			} 
		}
		set_character_faith = faith:arnoldism
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
#######################################
# joachimites 
#######################################
bryten_heresy.125 = {# Joachimites begins preaching
	hidden = yes

	immediate = {
		random_county_in_region = {
			region = custom_joachimites_region
			save_scope_as = joachmism_county
		}
		create_character = {# Joachim
			name = "Joachim"
			gender = male
			location = scope:joachmism_county.title_province
			age = 30
			faith = faith:joachimites
			culture = culture:occitan
			trait = heresiarch
			trait = generous
			trait = theologian
			trait = improvident
			trait = education_learning_4
			save_scope_as = joachimites_founder
		}
		set_global_variable = {
			name = joachimites_spawned
			value = yes
		}
		# Unlock Bogomilism to convert to and be a heresy more generally
		faith:joachimites = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_joachimites_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:joachimites
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_joachimites_region } }
			trigger_event = {
				id = bryten_heresy.126
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.126 = {# Convert to joachimites?
	type = character_event
	title = bryten_heresy.126.t
	desc = bryten_heresy.126.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.126.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.126.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to joachimites
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:joachimites }
						faith = {# this is to ensure its a reaction to catholicism not any other heretical movement
							has_doctrine = special_doctrine_ecumenical_christian
						}
					}
					set_county_faith = faith:joachimites
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.126.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:bogomilist = { 
			change_fervor = { 
				value = 5 
				desc = bryten_fervor_gain_heretical_lord

			} 
		}
		set_character_faith = faith:joachimites
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
#######################################
# Fraticelli 
#######################################
bryten_heresy.150 = {# Fraticelli begins preaching
	hidden = yes

	immediate = {
		set_global_variable = {
			name = fraticelli_spawned
			value = yes
		}
		# Unlock Bogomilism to convert to and be a heresy more generally
		faith:fraticelli = { remove_doctrine = unavailable_doctrine }
		faith:fraticelli = { set_religious_head_title = title:k_papal_state }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = world_europe_south_italy
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:fraticelli
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = world_europe_south_italy } }
			trigger_event = {
				id = bryten_heresy.151
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.151 = {# Convert to fraticelli?
	type = character_event
	title = bryten_heresy.151.t
	desc = bryten_heresy.151.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.151.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.151.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to fraticelli
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:fraticelli }
						faith = {# this is to ensure its a reaction to catholicism not any other heretical movement
							has_doctrine = special_doctrine_ecumenical_christian
						}
					}
					set_county_faith = faith:fraticelli
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.151.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:bogomilist = { 
			change_fervor = { 
				value = 5	
				desc = bryten_fervor_gain_heretical_lord
			} 
		}
		set_character_faith = faith:fraticelli
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
# Fraticelli Victory
bryten_heresy.152 = {# Catholicism is Fraticelli
	type = character_event
	title = bryten_heresy.152.t
	desc = bryten_heresy.152.desc
	theme = faith
	left_portrait = {
		character = scope:pope
		animation = personality_bold
	}

	immediate = {
		play_music_cue = "mx_cue_positive_effect"
		fraticelli_victory_decision_effects = yes
	}
	
	option = {# Glory be to God
		name = bryten_heresy.152.a
		give_nickname = nick_the_apostle
	}

	after = {
		hidden_effect = {
			every_player = {
				limit = { religion = religion:christianity_religion }
				trigger_event = { id = bryten_heresy.153 }
			}
		}
	}
}
bryten_heresy.153 = {# Fraticelli is victorious
	type = character_event
	title = bryten_heresy.153.t
	desc = bryten_heresy.153.desc
	theme = faith
	
	option = {
		name = name_i_see
	}
}
# Breaking with Rome
bryten_heresy.154 = {# Which Path to take
	type = character_event
	title = bryten_heresy.154.t
	desc = bryten_heresy.154.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = { play_music_cue = "mx_cue_faith_conversion" }

	option = {# Support the Radicals - Heretical Path
		name = bryten_heresy.154.a
		hidden_effect = {
			trigger_event = {
				id = bryten_heresy.155
				days = { 2 3 }
			}
		}
	}
	option = {# Support the ecumenicals - New Branch Path
		name = bryten_heresy.154.b
		hidden_effect = {
			trigger_event = {
				id = bryten_heresy.156
				days = { 2 3 }
			}
		}

	}
}
bryten_heresy.155 = {# Heretical Breaking
	type = character_event
	title = bryten_heresy.155.t
	desc = bryten_heresy.155.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = { play_music_cue = "mx_cue_faith_conversion" }

	option = {# Communal Property
		name = bryten_heresy.155.a
		ai_chance = { base = 50	}
		bryten_fraticelli_heretic_path_communal_scripted_effect = yes 
		# Flag our choice.
		save_scope_value_as = {
			name = bryten_fraticelli_choice
			value = flag:communal_heretic
		}

		stress_impact = {
			humble = minor_stress_impact_loss
			zealous = medium_stress_impact_loss
		}
	}
	option = {# Pacifism
		name = bryten_heresy.155.b
		ai_chance = { base = 25	} # rare 
		 bryten_fraticelli_heretic_path_pacifism_scripted_effect = yes
		# Flag our choice.
		save_scope_value_as = {
			name = bryten_fraticelli_choice
			value = flag:pacifist_heretic
		}

		stress_impact = {
			compassionate = minor_stress_impact_loss
			callous = medium_stress_impact_gain
			sadistic = medium_stress_impact_gain
		}

	}
	option = {# Mendicant Preachers
		name = bryten_heresy.155.c
		ai_chance = { base = 25	} 
		bryten_fraticelli_heretic_path_missionary_scripted_effect = yes
		# Flag our choice.
		save_scope_value_as = {
			name = bryten_fraticelli_choice
			value = flag:missionary_heretic
		}

		stress_impact = {
			lifestyle_traveler = minor_stress_impact_loss
			pilgrim = minor_stress_impact_loss
		}
	}
	
	after = {
		bryten_fraticelli_heretic_path_hof_ecumenical_scripted_effect = yes
		# Now take care of notification events for players.
		every_player = {
			limit = { religion = religion:christianity_religion }
			trigger_event = { id = bryten_heresy.157 }
		}
		# And finally, actually apply the effects.
		if = {
			limit = {
				exists = scope:bryten_fraticelli_choice
				scope:bryten_fraticelli_choice = flag:communal_heretic
			}
			bryten_fraticelli_heretic_path_communal_scripted_effect = yes
		}
		if = {
			limit = {
				exists = scope:bryten_fraticelli_choice
				scope:bryten_fraticelli_choice = flag:pacifist_heretic
			}
			bryten_fraticelli_heretic_path_pacifism_scripted_effect = yes
		}
		if = {
			limit = {
				exists = scope:bryten_fraticelli_choice
				scope:bryten_fraticelli_choice = flag:missionary_heretic
			}
			bryten_fraticelli_heretic_path_missionary_scripted_effect = yes
		}
		every_county = {# Random chance of converting fraticelli's to convert back to catholicism due to radicalism
			limit = { faith = faith:fraticelli }
			random = {
				chance = 10
				set_county_faith = faith:catholic
			}
		}		
	}
}
bryten_heresy.156 = {# New Branch
	type = character_event
	title = bryten_heresy.156.t
	desc = bryten_heresy.156.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = { play_music_cue = "mx_cue_faith_conversion" }

	option = {# Pentarchy
		name = bryten_heresy.156.a
		ai_chance = { base = 25	} 
		show_as_tooltip = { bryten_fraticelli_schismatic_path_pentarchy_scripted_effect = yes }
		# Flag our choice.
		save_scope_value_as = {
			name = bryten_fraticelli_choice
			value = flag:pentarchy_ecumenical
		}

		stress_impact = {
			lifestyle_traveler = minor_stress_impact_loss
			pilgrim = minor_stress_impact_loss
		}
	}
	option = {# communion
		name = bryten_heresy.156.b
		ai_chance = { base = 25	} 
		show_as_tooltip = { bryten_fraticelli_schismatic_path_communion_scripted_effect = yes }
		# Flag our choice.
		save_scope_value_as = {
			name = bryten_fraticelli_choice
			value = flag:communion_ecumenical
		}

		stress_impact = {
			lifestyle_traveler = minor_stress_impact_loss
			pilgrim = minor_stress_impact_loss
		}

	}
	option = {# Armed Pilgrimages
		name = bryten_heresy.156.c
		ai_chance = { base = 25	} 
		show_as_tooltip = { bryten_fraticelli_schismatic_path_crusade_scripted_effect = yes }
		# Flag our choice.
		save_scope_value_as = {
			name = bryten_fraticelli_choice
			value = flag:pilgrim_ecumenical
		}

		stress_impact = {
			lifestyle_traveler = minor_stress_impact_loss
			pilgrim = minor_stress_impact_loss
		}
	}	

	after = {
		bryten_fraticelli_schismatic_path_hof_ecumenical_scripted_effect = yes
		# Now take care of notification events for players.
		every_player = {	
			limit = { religion = religion:christianity_religion }
			trigger_event = { id = bryten_heresy.157 }
		}
		# And finally, actually apply the effects.
		if = {
			limit = {
				exists = scope:bryten_fraticelli_choice
				scope:bryten_fraticelli_choice = flag:pentarchy_ecumenical
			}
			bryten_fraticelli_schismatic_path_pentarchy_scripted_effect = yes
		}
		if = {
			limit = {
				exists = scope:bryten_fraticelli_choice
				scope:bryten_fraticelli_choice = flag:communion_ecumenical
			}
			bryten_fraticelli_schismatic_path_communion_scripted_effect = yes
		}
		if = {
			limit = {
				exists = scope:bryten_fraticelli_choice
				scope:bryten_fraticelli_choice = flag:pilgrim_ecumenical
			}
			bryten_fraticelli_schismatic_path_crusade_scripted_effect = yes
		}
		every_county = {# Random chance of converting fraticelli's to convert back to catholicism due to radicalism
			limit = { faith = faith:fraticelli }
			random = {
				chance = 10
				set_county_faith = faith:catholic
			}
		}		
	}	

}
bryten_heresy.157 = {# Let everyone know
	type = character_event
	title = bryten_heresy.157.t
	desc = {
		first_valid = {
			triggered_desc = {# Radical - Fraticelli
				trigger = {
					AND = {
						OR = {
							scope:bryten_fraticelli_choice = flag:communal_heretic
							scope:bryten_fraticelli_choice = flag:pacifist_heretic
							scope:bryten_fraticelli_choice = flag:missionary_heretic
						}
						faith = faith:fraticelli 
					}
				}
				desc = bryten_heresy.157.desc.Radical_fraticelli
			}		
			triggered_desc = {# Ecumenical - Fraticelli
				trigger = { 
					AND = {
						OR = {
							scope:bryten_fraticelli_choice = flag:pentarchy_ecumenical
							scope:bryten_fraticelli_choice = flag:communion_ecumenical
							scope:bryten_fraticelli_choice = flag:pilgrim_ecumenical
						}
						faith = faith:fraticelli 
					}
				}
				desc = bryten_heresy.157.desc.ecumenical_fraticelli
			}			

			triggered_desc = {# Radical
				trigger = { 
					OR = {
						scope:bryten_fraticelli_choice = flag:communal_heretic
						scope:bryten_fraticelli_choice = flag:pacifist_heretic
						scope:bryten_fraticelli_choice = flag:missionary_heretic
					}
					NOT = { faith = faith:fraticelli }
				}
				desc = bryten_heresy.157.desc.Radical
			}
			triggered_desc = {# Ecumenical - Catholic
				trigger = {
					AND = {
						OR = {
							scope:bryten_fraticelli_choice = flag:pentarchy_ecumenical
							scope:bryten_fraticelli_choice = flag:communion_ecumenical
							scope:bryten_fraticelli_choice = flag:pilgrim_ecumenical
						}
						faith = faith:catholic 
					}	
				}
				desc = bryten_heresy.157.desc.ecumenical_catholic
			}
			triggered_desc = {# Ecumenical - Not Catholic
				trigger = { 
					AND = {
						OR = {
							scope:bryten_fraticelli_choice = flag:pentarchy_ecumenical
							scope:bryten_fraticelli_choice = flag:communion_ecumenical
							scope:bryten_fraticelli_choice = flag:pilgrim_ecumenical
						}
						Not = { faith = faith:catholic }
					}
					NOT = { faith = faith:fraticelli }
				}
				desc = bryten_heresy.157.desc.ecumenical_not_catholic
			}
		}
	}
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	option = {# Condemn the heretics
		name = name_i_see
	}	
}
# Fraticelli Pope Condemns it
bryten_heresy.158 = {# The Pope fully condemns Fraticellism and threatens excommunication
	hidden = yes

	trigger = {
		current_year >= 1323
		NOT = { has_global_variable = fraticelli_condemned_heretics }
		faith:catholic = { exists = faith.religious_head }
		NOR = {# Reasons why the Pope won't condemn the Fraticelli
			AND = {# if Catholicism has low fervor and Fraticelli has high fervor then the pope isn't condeming them
				faith:fraticelli = { fervor > medium_fervor_value }
				faith:catholic = { fervor < medium_fervor_value }
			}
			root.faith.religious_head = { faith = faith:fraticelli }
			faith.religious_head = faith:fraticelli # if the Pope is a Fraticelli member they obviously won't condemn it.
			any_ruler = {# A fraticelli ruler with a strong hook on the Pope the pope won't do it.
				AND = {
 					has_faith = faith:fraticelli
					 has_strong_usable_hook = faith.religious_head

				}
			}
		}
	}

	immediate = {
		root.faith.religious_head =  { save_scope_as = pope }
		set_global_variable = {# Fraticelli are condemend as Heretics
			name = fraticelli_condemned_heretics
			value = yes
		}
		# Fraticelli is now disconnected from the papacy and is more heretical.
		faith:fraticelli = { remove_religious_head_title = yes }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = world_europe
			limit = {# A large number of provinces convert back as they don't want to be heretics.
				faith = { faith = faith:fraticelli }
			}
			random = {
				chance = 40
				set_county_faith = faith:catholic
			}
		}
		every_ruler = {# give people the ability to convert back
			limit = { faith = faith:fraticelli }
			trigger_event = {
				id = bryten_heresy.159
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.159 = {# Convert to fraticelli?
	type = character_event
	title = bryten_heresy.159.t
	desc = bryten_heresy.159.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	option = {# Side with the Pope
		name = bryten_heresy.159.a
		ai_chance = { base = 70	}
		set_character_faith = faith:catholic
		reverse_add_opinion = {
			target = scope:pope
			modifier = relieved_opinion
			opinion = 30
		}
		every_vassal = {# Zealous Vassals hate it
			limit = { faith = faith:fraticelli }
			add_opinion = {
				modifier = hate_opinion
				target = root
				opinion = -50
			}
		}
		every_vassal = {# Zealous Vassals hate it
			limit = { faith = faith:fraticelli }
			add_opinion = {
				modifier = hate_opinion
				target = root
				opinion = -50
			}
		}
		
		stress_impact = {
			greedy = major_stress_impact_loss
			cynical = major_stress_impact_loss
			generous = medium_stress_impact_gain
			improvident = major_stress_impact_gain
			zealous = medium_stress_impact_gain
		}
	}
	option = {# Stick with Fraticelli despite things
		name = bryten_heresy.159.b
		ai_chance = { base = 30	} # rare 
		add_piety = medium_piety_gain
		reverse_add_opinion = {
			target = scope:pope
			modifier = hate_opinion
			opinion = -50
		}
		every_vassal = {# Catholic Vassals hate it
			limit = { faith = faith:catholic }
			add_opinion = {
				modifier = did_not_listen_to_pope
				target = root
				opinion = -30
			}
		}
		every_courtier_or_guest = {# Catholic guests/Courtiers hate it
			limit = { faith = faith:catholic }
			add_opinion = {
				modifier = did_not_listen_to_pope
				target = root
				opinion = -30
			}
		}
		stress_impact = {
			greedy = major_stress_impact_gain
			cynical = major_stress_impact_gain
			generous = medium_stress_impact_loss
			improvident = major_stress_impact_loss
			zealous = medium_stress_impact_loss
		}

	}
}
#######################################
# henricians 
#######################################
bryten_heresy.175 = {# Waldo begins preaching
	hidden = yes

	immediate = {
		random_county_in_region = {
			region = custom_henricians_region
			save_scope_as = henricianism_county
		}
		create_character = {# Henry
			name = "Henry"
			gender = male
			location = scope:henricianism_county.title_province
			age = 30
			faith = faith:henricians
			culture = culture:occitan
			trait = heresiarch
			trait = generous
			trait = theologian
			trait = improvident
			trait = education_learning_4
			save_scope_as = henricians_founder
		}
		set_global_variable = {
			name = henricians_spawned
			value = yes
		}
		# Unlock henricians to convert to and be a heresy more generally
		faith:henricians = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_henricians_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = {
					has_doctrine = special_doctrine_ecumenical_christian
				}
			}
			random = {
				chance = 5
				set_county_faith = faith:henricians
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_henricians_region } }
			trigger_event = {
				id = bryten_heresy.176
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.176 = {# Convert to henricians?
	type = character_event
	title = bryten_heresy.176.t
	desc = bryten_heresy.176.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.176.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.176.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to henricians
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:fraticelli }
						faith = {# this is to ensure its a reaction to catholicism not any other heretical movement
							has_doctrine = special_doctrine_ecumenical_christian
						}
					}
					set_county_faith = faith:henricians
				}
			}			
		}
	}
	option = {# he is interesting ideas
		name = bryten_heresy.176.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:henricians = { 
			change_fervor = { 
				value = 5	
				desc = bryten_fervor_gain_heretical_lord
			} 
		}
		set_character_faith = faith:henricians
		every_held_title = {# henricians counties are really happy
			limit = {
				tier = tier_county
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}
#######################################
# petrobrusian 
#######################################
bryten_heresy.200 = {# Peter of Bruys begins preaching
	hidden = yes

	immediate = {
		random_county_in_region = {
			region = custom_petrobrusian_region
			save_scope_as = petrobrusian_county
		}
		create_character = {# Peter
			name = "Peter"
			gender = male
			location = scope:petrobrusian_county.title_province
			age = 30
			faith = faith:petrobrusian
			culture = culture:french
			trait = heresiarch
			trait = generous
			trait = theologian
			trait = improvident
			trait = education_learning_4
			save_scope_as = petrobrusian_founder
		}
		set_global_variable = {
			name = petrobrusian_spawned
			value = yes
		}
		# Unlock Bogomilism to convert to and be a heresy more generally
		faith:petrobrusian = { remove_doctrine = unavailable_doctrine }
		every_county_in_region = {# Convert counties in the Balkans from Orthodoxy to Bogomilism
			region = custom_petrobrusian_region
			limit = {# this should only apply to Ecumenical faiths, ie catholic and Orthodox mainly.
				faith = { has_doctrine = special_doctrine_ecumenical_christian }
			}
			random = {
				chance = 5
				set_county_faith = faith:petrobrusian
				add_county_modifier = {
					modifier = rebellious_people
					years = 10
				}
			}
		}
		every_ruler = {# give people the ability to convert
			limit = { capital_province = { geographical_region = custom_petrobrusian_region } }
			trigger_event = {
				id = bryten_heresy.201
				days = { 30 50 }
			}
		}
		
	}
}
bryten_heresy.201 = {# Convert to petrobrusian?
	type = character_event
	title = bryten_heresy.201.t
	desc = bryten_heresy.201.desc
	theme = faith
	override_background = { reference = wilderness_forest }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {

	}

	option = {# Condemn the heretics
		name = bryten_heresy.201.a
		ai_chance = { base = 89	}
		every_vassal = {# Zealous Vassals love it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = approves_heretic_condemnation
				target = root
				opinion = 40
			}
		}
	}
	option = {# Let him preach
		name = bryten_heresy.201.b
		ai_chance = { base = 20	} # rare 
		every_vassal = {# Zealous Vassals hate it
			limit = { has_vassal_stance = zealot }
			add_opinion = {
				modifier = disapproves_heretic_toleration
				target = root
				opinion = -40
			}
		}
		every_held_title = {# Bogomilist counties are really happy
			limit = {
				tier = tier_county
				faith = faith:petrobrusian
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}	
		hidden_effect = {
			random = {# convert more areas to petrobrusian
				chance = 5
				every_held_title = {
					limit = {
						tier = tier_county
						NOT = { faith = faith:petrobrusian }
						faith = {# this is to ensure its a reaction to catholicism not any other heretical movement
							has_doctrine = special_doctrine_ecumenical_christian
						}
					}
					set_county_faith = faith:petrobrusian
				}
			}			
		}

	}
	option = {# he is interesting ideas
		name = bryten_heresy.201.c
		ai_chance = { base = 01	} # super rare mainly for players
		faith:petrobrusian = { 
			change_fervor = { 
				value = 5
				desc = bryten_fervor_gain_heretical_lord	
			} 
		}
		set_character_faith = faith:petrobrusian
		every_held_title = {# Petrobrusians counties are really happy
			limit = {
				tier = tier_county
				faith = faith:petrobrusian
				has_county_modifier = rebellious_people
			}
			remove_county_modifier = rebellious_people
		}
	}	
}













