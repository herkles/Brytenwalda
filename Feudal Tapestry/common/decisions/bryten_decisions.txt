#############################################
# Anglo-Saxon England Decisions
#############################################
unite_england_decision = {# Unite England
	picture = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	major = yes
	ai_check_interval = 60
	desc = unite_england_decision_desc

	is_shown = {
		culture = { has_cultural_pillar = heritage_west_germanic }
		custom_tooltip = {
			text = capital_in_england_region_tooltip
			capital_province = { geographical_region = custom_england } 
		}
		NOT = {# this is a unique decision
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:unite_england_decision
			}
		}
		highest_held_title_tier < tier_empire # shouldn't be an Empire
		title:k_england = { is_title_created = no } #  England Can't exist 
	}

	is_valid = {
		custom_tooltip = {# Capital Must be in England
			text = capital_in_england_region_tooltip
			capital_province = { geographical_region = custom_england } 
		}
		custom_tooltip = {# Must own the majority of England
			text = owns_majority_england_region_tooltip
		 	any_county_in_region = {
		 		region = custom_england
		 		count >= 28
		 		OR = {
		 			holder = root
					 holder = {
						any_liege_or_above = { this = root }
					}
		 		}
		 	}
		}
		custom_tooltip = {# Must be of West Germanic heritage
			text = unite_england_culture_requirement
			culture = { has_cultural_pillar = heritage_west_germanic }
		}
		custom_tooltip = {# Must have an English Kingdom as primary title
			text = unite_england_decision_primary
			OR = {
				has_primary_title = title:k_kent
				has_primary_title = title:k_northumbria
				has_primary_title = title:k_east_anglia
				has_primary_title = title:k_mercia
				has_primary_title = title:k_wessex
				has_primary_title = title:k_essex
			}
		}
	}

	effect = {
		save_scope_as = england_kingdom_uniter
		show_as_tooltip = { unite_kingdom_england_decision_effects = yes } 
		hidden_effect = {# adding the variables for unique COAs variants
			if = {# set unique COA for england united by Mercia
				limit = { has_primary_title = title:k_mercia }
				set_global_variable = {
					name = england_coa_merica
					value = yes
				}
			}
			if = {# set unique COA for england united by Northumbria
				limit = { has_primary_title = title:k_northumbria }
				set_global_variable = {
					name = england_coa_northumbria
					value = yes
				}
			}
			if = {# set unique COA for england united by East Anglia
				limit = { has_primary_title = title:k_east_anglia }
				set_global_variable = {
					name = england_coa_east_anglia
					value = yes
				}
			}
			if = {# set unique COA for england united by kent
				limit = { has_primary_title = title:k_kent }
				set_global_variable = {
					name = england_coa_kent
					value = yes
				}
			}
			
		}
		#Events
		trigger_event = bryten_decision.0001
		every_player = {
			limit = {
				NOT = { this = scope:england_kingdom_uniter }
				is_within_diplo_range = { CHARACTER = scope:england_kingdom_uniter }
			}
			trigger_event = bryten_decision.0002
		}
		#Can only be done once
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:unite_england_decision
		}
		set_global_variable = {
			name = unavailable_unique_decisions
			value = scope:england_kingdom_uniter
		}

	}

	ai_potential = {
		always = yes
	}

	ai_will_do = { base = 100 }
}
restore_kingdom_kent_decision = {# Restore the Kingdom of Kent
	picture = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	major = yes
	ai_check_interval = 120

	desc = restore_kingdom_kent_decision_desc
	selection_tooltip = restore_kingdom_kent_decision_tooltip

	is_shown = {
		NOR = {# can't form it if you are already a king, nor should the house of wessex be able to do so
			title:k_england = { is_title_created = yes } # If England is created then you should focus on that
			highest_held_title_tier >= tier_kingdom # No point in restoring it if you are already a king
		}
		culture = { has_cultural_pillar = heritage_west_germanic }
		NOT = {	#You can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:restore_kingdom_kent
			}
		}
		custom_tooltip = {
			text = capital_in_england_region_tooltip
			capital_province = { geographical_region = custom_england } 
		}

	}

	is_valid = {
		custom_tooltip = {
			text = capital_in_england_region_tooltip
			capital_province = { geographical_region = custom_england } 
		}
		is_independent_ruler = yes
		prestige_level >= high_prestige_level
		root.faith = faith:catholic # Due to it being an important seat, the people won't accept you without you being catholic. 
		completely_controls = title:d_canterbury
		custom_tooltip = {
			text = unite_england_culture_requirement
			culture = { has_cultural_pillar = heritage_west_germanic }
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		show_as_tooltip = {
			restore_kingdom_kent_decision_scripted_effect = yes
		}
		save_scope_as = kent_restorer
		trigger_event = {
			id = bryten_decision.0004
		}
		#Notify other players.
		every_player = {
			limit = {
				NOT = { this = root }
				is_within_diplo_range = { CHARACTER = root }
			}
			trigger_event = bryten_decision.0005
		}
		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:restore_kingdom_kent
			}
		}
	}

	cost = {
		gold = 300
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
restore_kingdom_essex_decision = {# Restore the Kingdom of Essex
	picture = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	major = yes
	ai_check_interval = 120

	desc = restore_kingdom_essex_decision_desc
	selection_tooltip = restore_kingdom_essex_decision_tooltip

	is_shown = {
		NOR = {# can't form it if you are already a king, nor should the house of wessex be able to do so
			title:k_england = { is_title_created = yes } # If England is created then you should focus on that
			highest_held_title_tier >= tier_kingdom # No point in restoring it if you are already a king
		}
		culture = { has_cultural_pillar = heritage_west_germanic }
		NOT = {	#You can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:restore_kingdom_essex
			}
		}
		custom_tooltip = {
			text = capital_in_england_region_tooltip
			capital_province = { geographical_region = custom_england } 

		}
	}

	is_valid = {
		root.faith = faith:catholic # Due to it being an important seat, the people won't accept you without you being catholic. 
		is_independent_ruler = yes
		prestige_level >= high_prestige_level
		completely_controls = title:d_bedford
		root.faith = faith:catholic
		custom_tooltip = {
			text = unite_england_culture_requirement
			culture = { has_cultural_pillar = heritage_west_germanic }
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		show_as_tooltip = {
			restore_kingdom_essex_decision_scripted_effect = yes
		}
		save_scope_as = essex_restorer
		trigger_event = {
			id = bryten_decision.0006
		}
		#Notify other players.
		every_player = {
			limit = {
				NOT = { this = root }
				is_within_diplo_range = { CHARACTER = root }
			}
			trigger_event = bryten_decision.0007
		}
		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:restore_kingdom_essex
			}
		}
	}

	cost = {
		gold = 300
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
#############################################
# Anglo-Norse England Decisions
#############################################

#############################################
# Norman England Decisions
#############################################

#############################################
# General England Decisions
#############################################
bryten_build_saint_edmunds = {# Build the Abbey of Saint Edmunds
	picture = "gfx/interface/illustrations/decisions/decision_gothic.dds"
	ai_check_interval = 64
	cooldown = { days = 7300 }
	desc = bryten_build_saint_edmunds_desc
	
	is_shown = {
		is_ruler = yes
		is_landed = yes
		religion = religion:christianity_religion
		NOT = { has_character_flag = bryten_bury_saint_edmunds }
		exists = global_var:bryten_saint_edmund_cult
		capital_province = { geographical_region = world_europe_west_britannia } 
	}
	
	is_valid = {
		culture = {
			has_innovation = innovation_manorialism
		}
		gold >= medium_gold_value
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = bryten_build_saint_edmunds_tooltip
		trigger_event = { id = bryten_england.128 }
	}

	cost = { 
		gold = { value = medium_gold_value } # Will depend
	}	

	ai_potential = {
		short_term_gold > standard_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 5
			has_trait = zealous
		}
		modifier = {
			add = -15
			has_trait = cynical
		}
	}
}
#############################################
# Irish Decisions
#############################################
strengthen_high_kingship_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_high_king.dds"
	major = yes
	ai_check_interval = 60
	desc = strengthen_high_kingship_decision_desc

	is_shown = {
		culture = { has_cultural_pillar = heritage_goidelic }# Must be a Gael to do this
		NOT = {# this is a unique decision
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:strengthen_high_kingship_decision
			}
		}
		has_primary_title = title:k_ireland_titular # You must be the High King to do this.
	}

	is_valid = {
		is_independent_ruler = yes # You only owe alligance to God!
		prestige_level >= high_prestige_level # You need to prove your prestige that you are worthy of the title
		completely_controls_region = custom_roman_hibernia
		title:k_ireland_titular = { title_held_years >= 30 }
	}

	effect = {
		save_scope_as = high_king_ireland

		show_as_tooltip = { strengthen_high_king_decision_effects = yes } 
		#Events
		trigger_event = bryten_decision.0008
		every_player = {
			limit = {
				NOT = { this = scope:high_king_ireland }
				is_within_diplo_range = { CHARACTER = scope:high_king_ireland }
			}
			trigger_event = bryten_decision.0009
		}
		#Can only be done once
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:strengthen_high_kingship_decision
		}
		set_global_variable = {
			name = unavailable_unique_decisions
			value = scope:high_king_ireland
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
#############################################
# Scottish Decisions
#############################################
integrate_strathclyde_kingdom = {# Integrate the Kingdom of Strathclyde
	picture = "gfx/interface/illustrations/decisions/decision_knight_kneeling.dds"
	ai_check_interval = 60
	major = yes
	desc = integrate_strathclyde_kingdom_desc

	is_shown = {
		NOT = {# this is a unique decision
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:integrate_strathclyde_kingdom
			}
		}
		has_primary_title = title:k_scotland # Only can be done as the Kingdom of Scotland
		NOT = {
			culture:cumbrian = {
				has_innovation = innovation_rightful_ownership
			}
		}
	}

	is_valid = {
		root.culture = {
			has_innovation = innovation_hereditary_rule
			has_innovation = innovation_royal_prerogative
		}
		NOT = { culture:cumbrian = { has_innovation = innovation_rightful_ownership	} }
		completely_controls = title:k_strathclyde
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_available_adult = yes
		is_at_war = no
	}

	effect = {
		save_scope_as = scottish_king_strathclyde
		show_as_tooltip = {
			integrate_strathclyde_kingdom_effect = yes
		}
		trigger_event = {
			id = bryten_decision.0010
		}
		every_player = {
			limit = {
				NOT = { this = scope:scottish_king_strathclyde }
				is_within_diplo_range = { CHARACTER = scope:scottish_king_strathclyde }
			}
			trigger_event = bryten_decision.0011
		}
		#Can only be done once
		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:integrate_strathclyde_kingdom
			}
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
create_duchy_of_lothian = {# Create the Duchy of Lothian
	picture = "gfx/interface/illustrations/decisions/decision_knight_kneeling.dds"
	ai_check_interval = 60
	desc = create_duchy_of_lothian_desc

	is_shown = {
		NOT = {# this is a unique decision
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:create_duchy_of_lothian
			}
		}
		OR = {# should either be Scotland or Strathclyde that creates it
			has_primary_title = title:k_scotland
			has_primary_title = title:k_strathclyde
		}
		title:d_lothian = { is_title_created = no } #  Lothian can't already exist  
		NOT = {# Anglo-Saxon's don't get this decision due to Brambugh being an anglo-saxon title
			has_culture = culture:anglo_saxon
		}
	}

	is_valid = {
		custom_tooltip = {
			text = create_lothian_land_requirement		
			AND = {# Must control Lothian
				completely_controls = title:c_lothian
				completely_controls = title:c_dunbar
				completely_controls = title:c_teviotdale
				completely_controls = title:c_linlithgowshire
				completely_controls = title:c_lanarkshire
			}

		}
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_available_adult = yes
		is_at_war = no
	}

	effect = {
		save_scope_as = lothian_duchy_creator

		show_as_tooltip = { create_lothian_duchy_effects = yes } 
		create_lothian_duchy_effects = yes
		#Can only be done once
		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:create_duchy_of_lothian
			}
		}

	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
#############################################
# Italian Decisions
#############################################
embrace_tuscan_culture_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_tuscan.dds"
	major = yes

	ai_check_interval = 36

	desc = embrace_tuscan_culture_decision_desc

	is_shown = {
		is_landed = yes
		culture = { has_cultural_pillar = heritage_latin }
		OR = {# has to have a center of tuscan culture, pisa, florence, or Siena	
			title:k_pisa = {
				any_in_de_jure_hierarchy = {
					root.primary_title = this
				}
			}
			title:c_siena = {
				any_in_de_jure_hierarchy = {
					root.primary_title = this
				}
			}
			title:c_firenze = {
				any_in_de_jure_hierarchy = {
					root.primary_title = this
				}
			}
			OR = {
				highest_held_title_tier = tier_duchy
				highest_held_title_tier = tier_kingdom
			}
		}
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:embrace_tuscan_culture_decision
			}
		}
		NOT = { game_start_date >= 1066.09.15 } # it already happened
		current_date > 950.1.1 # after 950
	}

	is_valid = {
		culture = { has_cultural_pillar = heritage_latin }
		capital_county.duchy = title:d_toscana # needs to be in Tuscany
		OR = {# has to have a center of tuscan culture, pisa, florence, or Siena
			title:k_pisa = { title_held_years >= 30 }
			title:c_siena = { title_held_years >= 30 }
			title:c_firenze = { title_held_years >= 30 }
		}
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_available_adult = yes
	}

	effect = {
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:embrace_tuscan_culture_decision
		}
		show_as_tooltip = {	embrace_tuscan_culture_effect = yes	}

		trigger_event = tapestry_italian.001
	}
	
	ai_potential = {
		is_landed = yes
		culture = { has_cultural_pillar = heritage_latin }
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:embrace_english_culture_decision
			}
		}
	}

	ai_will_do = {
		base = 80
		modifier = {# Republics are much more likely to embrace
			add = 20
			government_has_flag = government_is_republic
		}
	}
}
#############################################
# Catholic Religious Decisions
#############################################
TFE_consecrate_holy_well = {# Consencrate a Holy Well
	picture = "gfx/interface/illustrations/decisions/decision_christian_pilgrimage.dds"
	ai_check_interval = 64
	desc = TFE_consecrate_holy_well_desc
	
	is_shown = {
		is_landed = yes
		NOT = {
			any_directly_owned_province = {
				county = {
					OR = {
						has_county_modifier = TFE_holy_well_level_1
						has_county_modifier = TFE_holy_well_level_2
						has_county_modifier = TFE_holy_well_level_3
					}
				}
			}
		}
		culture = {
			OR = {
				has_cultural_pillar = heritage_west_germanic
				has_cultural_pillar = heritage_brythonic
				has_cultural_pillar = heritage_goidelic
			}
		}
	}
	
	is_valid = {	
		culture = {
			OR = {
				has_cultural_pillar = heritage_west_germanic
				has_cultural_pillar = heritage_brythonic
				has_cultural_pillar = heritage_goidelic
			}
		}
		custom_description = {
			text = TFE_no_holy_well_county
			NOT = {
				any_directly_owned_province = {
					county = {
						OR = {
							has_county_modifier = TFE_holy_well_level_1
							has_county_modifier = TFE_holy_well_level_2
							has_county_modifier = TFE_holy_well_level_3
						}
					}
				}
			}	
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	cost = {
		gold = bryten_activity_cost
		prestige = medium_prestige_value
	}

	effect = {

		custom_tooltip = TFE_consecrate_holy_well_effect_tooltip_1
		custom_tooltip = TFE_consecrate_holy_well_effect_tooltip_2
		custom_tooltip = TFE_consecrate_holy_well_effect_tooltip_3

		trigger_event = { id = bryten_decision.0014	}
	}

	ai_potential = {
		short_term_gold >= bryten_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = 10
			has_trait = ambitious
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
TFE_visit_holy_well = {# Visit a Holy Well
	picture = "gfx/interface/illustrations/decisions/decision_christian_pilgrimage.dds"

	ai_check_interval = 64

	cooldown = { days = 3650 } #1825
	
	desc = TFE_visit_holy_well_desc
	
	is_shown = {
		is_landed = yes
		any_directly_owned_province = {
			county = {
				OR = {
					has_county_modifier = TFE_holy_well_level_1
					has_county_modifier = TFE_holy_well_level_2
					has_county_modifier = TFE_holy_well_level_3
				}
			}
		}
		culture = {
			OR = {
				has_cultural_pillar = heritage_west_germanic
				has_cultural_pillar = heritage_brythonic
				has_cultural_pillar = heritage_goidelic
			}
		}
		NOT = {
			any_owned_story = {
				story_type = story_TFE_visit_holy_well
			}
		}
	}
	
	is_valid = {
		culture = {
			OR = {
				has_cultural_pillar = heritage_west_germanic
				has_cultural_pillar = heritage_brythonic
				has_cultural_pillar = heritage_goidelic
			}
		}
		custom_description = {
			text = TFE_yes_holy_well_county
			any_directly_owned_province = {
				county = {
					OR = {
						has_county_modifier = TFE_holy_well_level_1
						has_county_modifier = TFE_holy_well_level_2
						has_county_modifier = TFE_holy_well_level_3
					}
				}
			}	
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	cost = {
		gold = bryten_activity_cost
	}

	effect = {

		custom_tooltip = TFE_visit_holy_well_effect_tooltip_1
		custom_tooltip = TFE_visit_holy_well_effect_tooltip_2

		add_character_flag = planning_an_activity
		if = {
			limit = {
				any_directly_owned_province = {
					county = {
						has_county_modifier = TFE_holy_well_level_3
					}
				}
			}			
			random_directly_owned_province = {
				limit = {
					county = {
						has_county_modifier = TFE_holy_well_level_3
					}
				}
				county = {
					root = {
						set_variable = {
							name = county_well
							value = PREV
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				any_directly_owned_province = {
					county = {
						has_county_modifier = TFE_holy_well_level_2
					}
				}
			}			
			random_directly_owned_province = {
				limit = {
					county = {
						has_county_modifier = TFE_holy_well_level_2
					}
				}
				county = {
					root = {
						set_variable = {
							name = county_well
							value = PREV
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				any_directly_owned_province = {
					county = {
						has_county_modifier = TFE_holy_well_level_1
					}
				}
			}			
			random_directly_owned_province = {
				limit = {
					county = {
						has_county_modifier = TFE_holy_well_level_1
					}
				}
				county = {
					root = {
						set_variable = {
							name = county_well
							value = PREV
						}
					}
				}
			}
		}
		# Failsafe in case there's no appropriate county
		else = {
			root = {
				set_variable = {
					name = county_well
					value = capital_county
				}
			}
		}
		create_story = story_TFE_visit_holy_well
	}

	ai_potential = {
		short_term_gold >= 50
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = 10
			has_trait = diligent
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
#############################################
# Norse Decisions
#############################################
consecrate_sacred_grove = {# Consencrate a Sacred Grove
	picture = "gfx/interface/illustrations/decisions/decision_sacred_grove.dds"
	ai_check_interval = 64
	desc = consecrate_sacred_grove_desc
	
	is_shown = {
		is_landed = yes
		NOT = {
			any_directly_owned_province = {
				county = {
					OR = {
						has_county_modifier = sacred_grove_level_1
						has_county_modifier = sacred_grove_level_2
						has_county_modifier = sacred_grove_level_3
					}
				}
			}
		}
		religion = religion:germanic_religion
	
	}
	
	is_valid = {
		religion = religion:germanic_religion
		custom_description = {
			text = no_sacred_grove_county
			NOT = {
				any_directly_owned_province = {
					county = {
						OR = {
							has_county_modifier = sacred_grove_level_1
							has_county_modifier = sacred_grove_level_2
							has_county_modifier = sacred_grove_level_3
						}
					}
				}
			}	
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	cost = {
		gold = bryten_activity_cost
		prestige = medium_prestige_value
	}

	effect = {

		custom_tooltip = consecrate_sacred_grove_effect_tooltip_1
		custom_tooltip = consecrate_sacred_grove_effect_tooltip_2
		custom_tooltip = consecrate_sacred_grove_effect_tooltip_3

		trigger_event = { id = bryten_decision.0016	}
	}

	ai_potential = {
		short_term_gold >= bryten_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = 10
			has_trait = ambitious
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
vist_sacred_grove = {# Visit a Sacred Grove
	picture = "gfx/interface/illustrations/decisions/decision_sacred_grove.dds"

	ai_check_interval = 64

	cooldown = { days = 3650 } #1825
	
	desc = vist_sacred_grove_desc
	
	is_shown = {
		is_landed = yes
		any_directly_owned_province = {
			county = {
				OR = {
					has_county_modifier = TFE_holy_well_level_1
					has_county_modifier = TFE_holy_well_level_2
					has_county_modifier = TFE_holy_well_level_3
				}
			}
		}
		religion = religion:germanic_religion
		NOT = {
			any_owned_story = {
				story_type = story_visit_sacred_grove
			}
		}
	}
	
	is_valid = {
		religion = religion:germanic_religion
		custom_description = {
			text = yes_sacred_grove_county
			any_directly_owned_province = {
				county = {
					OR = {
						has_county_modifier = TFE_holy_well_level_1
						has_county_modifier = TFE_holy_well_level_2
						has_county_modifier = TFE_holy_well_level_3
					}
				}
			}	
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	cost = {
		gold = bryten_activity_cost
	}

	effect = {

		custom_tooltip = vist_sacred_grove_tooltip

		add_character_flag = planning_an_activity
		if = {
			limit = {
				any_directly_owned_province = {
					county = {
						has_county_modifier = sacred_grove_level_3
					}
				}
			}			
			random_directly_owned_province = {
				limit = {
					county = {
						has_county_modifier = sacred_grove_level_3
					}
				}
				county = {
					root = {
						set_variable = {
							name = county_grove
							value = PREV
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				any_directly_owned_province = {
					county = {
						has_county_modifier = sacred_grove_level_2
					}
				}
			}			
			random_directly_owned_province = {
				limit = {
					county = {
						has_county_modifier = sacred_grove_level_2
					}
				}
				county = {
					root = {
						set_variable = {
							name = county_grove
							value = PREV
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				any_directly_owned_province = {
					county = {
						has_county_modifier = sacred_grove_level_1
					}
				}
			}			
			random_directly_owned_province = {
				limit = {
					county = {
						has_county_modifier = sacred_grove_level_1
					}
				}
				county = {
					root = {
						set_variable = {
							name = county_grove
							value = PREV
						}
					}
				}
			}
		}
		# Failsafe in case there's no appropriate county
		else = {
			root = {
				set_variable = {
					name = county_grove
					value = capital_county
				}
			}
		}
		create_story = story_visit_sacred_grove
	}

	ai_potential = {
		short_term_gold >= 50
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = 10
			has_trait = diligent
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}



